<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <title>TapiX</title>
  <style>
    body {
      background: #111;
      color: #fff;
      font-family: sans-serif;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      height: 100vh;
      margin: 0;
      text-align: center;
    }

    h1 {
      font-size: 2em;
      margin-bottom: 20px;
    }

    #count {
      font-size: 3em;
      margin: 20px 0;
    }

    button {
      background-color: #2ecc71;
      border: none;
      padding: 15px 30px;
      font-size: 1.2em;
      border-radius: 10px;
      cursor: pointer;
      transition: 0.2s;
    }

    button:hover {
      background-color: #27ae60;
    }

    #message {
      margin-top: 20px;
      font-size: 1.2em;
      color: #f1c40f;
      min-height: 1.2em;
    }

    /* Menu button */
    #menu-btn {
      position: fixed;
      top: 10px;
      left: 10px;
      font-size: 2em;
      background: none;
      border: none;
      color: white;
      cursor: pointer;
      z-index: 1000;
    }

    #menu {
      position: fixed;
      top: 50px;
      left: 10px;
      background: #222;
      border-radius: 10px;
      padding: 10px;
      display: none;
      flex-direction: column;
      gap: 10px;
      z-index: 999;
      box-shadow: 0 0 10px rgba(0,0,0,0.5);
    }

    #menu button, #menu a {
      background: #333;
      color: white;
      border: none;
      padding: 10px;
      border-radius: 8px;
      text-align: left;
      cursor: pointer;
      text-decoration: none;
      display: block;
    }

    #menu button:hover, #menu a:hover {
      background: #444;
    }

    .modal {
      position: fixed;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      background: #222;
      padding: 20px;
      border-radius: 10px;
      z-index: 1001;
      display: none;
      color: white;
      max-width: 90%;
    }

    .modal h2 {
      margin-top: 0;
    }

    .modal button {
      margin-top: 10px;
      background: #e74c3c;
    }

    .light-theme {
      background: #eee;
      color: #000;
    }

    .light-theme button {
      background: #3498db;
      color: white;
    }

    .light-theme button:hover {
      background: #2980b9;
    }

    .light-theme #menu {
      background: #ddd;
    }

    .light-theme #menu button {
      background: #ccc;
      color: black;
    }

    .light-theme #menu button:hover {
      background: #bbb;
    }

    .light-theme .modal {
      background: #ddd;
      color: black;
    }
  </style>
</head>
<body>

  <!-- –ú–µ–Ω—é -->
  <button id="menu-btn">‚ãÆ</button>
  <div id="menu">
    <button onclick="openModal('settings')">‚öô –ù–∞—Å—Ç—Ä–æ–π–∫–∏</button>
    <button onclick="openModal('about')">‚Ñπ –û–± –∏–≥—Ä–µ</button>
    <button onclick="openModal('profile')">üë§ –ü—Ä–æ—Ñ–∏–ª—å</button>
    <a href="https://t.me/TapiX_NEWS" target="_blank">üì¢ –ö–∞–Ω–∞–ª –Ω–æ–≤–æ—Å—Ç–µ–π</a>
  </div>

  <!-- –ú–æ–¥–∞–ª—å–Ω—ã–µ –æ–∫–Ω–∞ -->
  <div id="settings-modal" class="modal">
    <h2>–ù–∞—Å—Ç—Ä–æ–π–∫–∏</h2>
    <button onclick="toggleTheme()">üåó –°–º–µ–Ω–∏—Ç—å —Ç–µ–º—É</button><br>
    <button onclick="closeModal('settings')">–ó–∞–∫—Ä—ã—Ç—å</button>
  </div>

  <div id="about-modal" class="modal">
    <h2>–û–± –∏–≥—Ä–µ</h2>
    <p>TapiX - —ç—Ç–æ –∏–≥—Ä–∞-–∫–ª–∏–∫–µ—Ä, –≤ –∫–æ—Ç–æ—Ä–æ–π –≤–∞–º –Ω—É–∂–Ω–æ —Ç–∞–ø–∞—Ç—å –ø–æ –∫–Ω–æ–ø–∫–µ, –∑–∞—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å —Ç–µ–º —Å–∞–º—ã–º –æ—á–∫–∏, –∏ –ø–æ–ª—É—á–∞—Ç—å –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è. –ì–ª–∞–≤–Ω–∞—è —Ü–µ–ª—å —ç—Ç–æ–π –∏–≥—Ä—ã: –Ω–∞–±—Ä–∞—Ç—å 1000 –æ—á–∫–æ–≤. –£–¥–∞—á–∏.</p>
    <button onclick="closeModal('about')">–ó–∞–∫—Ä—ã—Ç—å</button>
  </div>

  <div id="profile-modal" class="modal">
    <h2>–ü—Ä–æ—Ñ–∏–ª—å</h2>
    <div id="achievements"></div>
    <button onclick="closeModal('profile')">–ó–∞–∫—Ä—ã—Ç—å</button>
  </div>

  <!-- –û—Å–Ω–æ–≤–Ω–∞—è —á–∞—Å—Ç—å –∏–≥—Ä—ã -->
  <h1>üëã –î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ TapiX!</h1>
  <div id="count">0</div>
  <button onclick="tap()">–¢–∞–ø</button>
  <div id="message"></div>

  <script>
    let count = parseInt(localStorage.getItem("tapix_count")) || 0;
    let achievements = JSON.parse(localStorage.getItem("tapix_achievements")) || [];

    const countEl = document.getElementById("count");
    const msg = document.getElementById("message");
    const achEl = document.getElementById("achievements");

    const milestoneMessages = {
      100: "üéâ –ú–æ–ª–æ–¥–µ—Ü! –ù–æ —Ç—ã –º–æ–∂–µ—à—å –∏ –ª—É—á—à–µ.",
      500: "üí™ –ê —Ç—ã —Å–µ—Ä—å—ë–∑–Ω—ã–π –ø—Ä–æ—Ç–∏–≤–Ω–∏–∫.",
      1000: "üß†üî• –ü–æ–∑–¥—Ä–∞–≤–ª—è—é, —Ç—ã —Å–ª–æ–º–∞–ª –∏–≥—Ä—É.",
      5000: "üëÄ –ö–∞–∫ —Ç—ã —ç—Ç–æ –¥–µ–ª–∞–µ—à—å?!",
      10000: "üë®‚Äçüíª –ê—Ö —Ç—ã —á–∏—Ç–µ—Ä..."
    };

    function tap() {
      count++;
      countEl.innerText = count;
      localStorage.setItem("tapix_count", count);

      if (milestoneMessages[count] && !achievements.includes(count)) {
        msg.innerText = milestoneMessages[count];
        achievements.push(count);
        localStorage.setItem("tapix_achievements", JSON.stringify(achievements));
      }
    }

    function openModal(name) {
      document.getElementById(name + '-modal').style.display = 'block';
      if (name === 'profile') showAchievements();
    }

    function closeModal(name) {
      document.getElementById(name + '-modal').style.display = 'none';
    }

    function toggleTheme() {
      document.body.classList.toggle("light-theme");
    }

    function showAchievements() {
      achEl.innerHTML = "";
      if (achievements.length === 0) {
        achEl.innerHTML = "<p>–ü–æ–∫–∞ –Ω–µ—Ç –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π.</p>";
        return;
      }
      achievements.forEach(val => {
        const p = document.createElement("p");
        p.textContent = milestoneMessages[val];
        achEl.appendChild(p);
      });
      const link = document.createElement("a");
      link.href = "https://t.me/TapiX_NEWS";
      link.target = "_blank";
      link.innerHTML = "<button>üì¢ –ü–µ—Ä–µ–π—Ç–∏ –≤ Telegram-–∫–∞–Ω–∞–ª</button>";
      achEl.appendChild(link);
    }

    // –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –º–µ–Ω—é
    document.getElementById("menu-btn").addEventListener("click", () => {
      const menu = document.getElementById("menu");
      menu.style.display = (menu.style.display === "flex") ? "none" : "flex";
    });

    // –ü—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
    countEl.innerText = count;
  </script>

</body>
  </html>
